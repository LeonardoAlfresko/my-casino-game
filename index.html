<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gold Fortune</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  background: #0F0F12;
  font-family: 'Inter', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  color: white;
}
.app {
  width: 100%;
  max-width: 400px;
  padding: 20px;
  text-align: center;
}
/* WHEEL */
.wheel-wrapper {
  position: relative;
  width: 280px;  /* —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤–∏–≥–ª—è–¥—É */
  height: 280px;
  margin: 0 auto 35px;
}
/* –ì–û–õ–û–í–ù–ò–ô –ö–†–£–ì –ó –°–ï–ö–¢–û–†–ê–ú–ò –Ø–ö –£ –ö–ê–ó–ò–ù–û */
.wheel {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  position: relative;
  /* conic-gradient: 12 —Å–µ–∫—Ç–æ—Ä—ñ–≤ –∑ 3 –∫–æ–ª—å–æ—Ä–∞–º–∏ (–∑–æ–ª–æ—Ç–∏–π, –∑–µ–ª–µ–Ω–∏–π, —á–µ—Ä–≤–æ–Ω–∏–π) */
  background: conic-gradient(
    #FFD700 0deg 30deg,    /* –ó–æ–ª–æ—Ç–∏–π */
    #1DB954 30deg 60deg,   /* –ó–µ–ª–µ–Ω–∏–π */
    #FF4444 60deg 90deg,   /* –ß–µ—Ä–≤–æ–Ω–∏–π */
    #FFD700 90deg 120deg,
    #1DB954 120deg 150deg,
    #FF4444 150deg 180deg,
    #FFD700 180deg 210deg,
    #1DB954 210deg 240deg,
    #FF4444 240deg 270deg,
    #FFD700 270deg 300deg,
    #1DB954 300deg 330deg,
    #FF4444 330deg 360deg
  );
  /* –ë—ñ–ª—ñ –ª—ñ–Ω—ñ—ó –º—ñ–∂ —Å–µ–∫—Ç–æ—Ä–∞–º–∏ (—è–∫ —É —Ä—É–ª–µ—Ç—Ü—ñ) */
  box-shadow: 
    inset 0 0 0 2px rgba(255,255,255,0.3),  /* –≤–Ω—É—Ç—Ä—ñ—à–Ω—è –±—ñ–ª–∞ —Ä–∞–º–∫–∞ */
    0 0 35px rgba(245, 199, 107, 0.35),
    inset 0 0 25px rgba(0,0,0,0.45);
  /* –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞–Ω—ñ–º–∞—Ü—ñ—ó */
  will-change: transform;
  backface-visibility: hidden;
  transform-style: preserve-3d;
  transition: transform 4s cubic-bezier(.17,.67,.18,1);
  transform: rotate(0deg);
}
/* –ë–õ–ò–ö –ù–ê –ö–û–õ–Ü–°–Ü */
.wheel::after {
  content: "";
  position: absolute;
  top: 15%;
  left: 20%;
  width: 45%;
  height: 45%;
  background: radial-gradient(circle, rgba(255,255,255,0.4), transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}
/* –°–¢–†–Ü–õ–ö–ê –ó–í–ï–†–•–£ */
.pointer {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 25px solid #F5C76B;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5));
  z-index: 10;
}
/* RESULT */
.result {
  min-height: 110px;
  margin-bottom: 25px;
}
.result h2 {
  font-size: 20px;
  margin-bottom: 6px;
  color: #F5C76B;
}
.result p {
  opacity: 0.8;
  margin-bottom: 8px;
}
.amount {
  font-size: 36px;
  font-weight: 700;
  color: #1DB954;
}
/* BUTTONS */
button {
  width: 100%;
  padding: 15px;
  border-radius: 18px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.25s ease;
  margin-bottom: 14px;
  border: none;
}
.btn-primary {
  background: linear-gradient(135deg, #F5C76B, #C99A3A);
  color: #0F0F12;
}
.btn-primary:hover {
  transform: translateY(-2px);
}
.btn-secondary {
  background: transparent;
  border: 2px solid #F5C76B;
  color: #F5C76B;
}
.btn-secondary:hover {
  background: rgba(245, 199, 107, 0.1);
}
.btn-secondary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
</style>
</head>
<body>
<div class="app">
  <div class="wheel-wrapper">
    <div class="wheel" id="wheel"></div>
    <div class="pointer"></div>
  </div>
  <div class="result" id="result">
    <h2>–ö—Ä—É—Ç—ñ—Ç—å –∫–æ–ª–µ—Å–æ üé°</h2>
    <p>–°–ø—Ä–æ–±—É–π—Ç–µ —Å–≤–æ—é —É–¥–∞—á—É</p>
  </div>
  <button class="btn-primary" id="claimBtn" style="display:none;" onclick="claimReward()">
    –ó–∞–±—Ä–∞—Ç–∏ –≤–∏–≥—Ä–∞—à
  </button>
  <button class="btn-secondary" id="spinBtn" onclick="spinWheel()">
    –ö—Ä—É—Ç–∏—Ç–∏
  </button>
</div>
<script>
let rotation = 0;
let hasSpun = false;

function spinWheel() {
  if (hasSpun) return;
  
  const wheel = document.getElementById('wheel');
  const result = document.getElementById('result');
  const claimBtn = document.getElementById('claimBtn');
  const spinBtn = document.getElementById('spinBtn');

  // –í–∏–ø–∞–¥–∫–æ–≤–∏–π –∫—É—Ç + 5 –ø–æ–≤–Ω–∏—Ö –æ–±–µ—Ä—Ç—ñ–≤ –¥–ª—è –¥—Ä–∞–º–∞—Ç–∏—á–Ω–æ—Å—Ç—ñ
  const extra = Math.floor(Math.random() * 360) + 1;
  const targetRotation = rotation + 1800 + extra;

  // –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó (force reflow)
  wheel.style.willChange = 'transform';
  wheel.style.transition = 'none';
  wheel.style.transform = `rotate(${rotation}deg)`;
  wheel.offsetHeight;

  // –ó–∞–ø—É—Å–∫
  wheel.style.transition = 'transform 4.5s cubic-bezier(0.17, 0.67, 0.18, 1)';
  wheel.style.transform = `rotate(${targetRotation}deg)`;

  rotation = targetRotation;
  hasSpun = true;
  spinBtn.disabled = true;
  spinBtn.textContent = '–ö—Ä—É—Ç–∏—Ç—å—Å—è...';

  setTimeout(() => {
    // –í–∏–∑–Ω–∞—á–∞—î–º–æ –≤–∏–≥—Ä–∞—à –∑–∞ –∫–æ–ª—å–æ—Ä–æ–º (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ä–µ–∞–ª—ñ–∑–º—É)
    const finalAngle = targetRotation % 360;
    let prize = '5000 –≥—Ä–Ω';
    if (finalAngle > 120 && finalAngle < 240) prize = '10000 –≥—Ä–Ω';  // –∑–µ–ª–µ–Ω–∏–π —Å–µ–∫—Ç–æ—Ä
    else if (finalAngle > 240) prize = 'FREE SPIN';  // —á–µ—Ä–≤–æ–Ω–∏–π

    result.innerHTML = `
      <h2>–í—ñ—Ç–∞—î–º–æ üéâ</h2>
      <p>–í–∏ –≤–∏–≥—Ä–∞–ª–∏</p>
      <div class="amount">${prize}</div>
    `;
    claimBtn.style.display = 'block';
    spinBtn.disabled = false;
    spinBtn.textContent = '–ö—Ä—É—Ç–∏—Ç–∏ —â–µ —Ä–∞–∑';
    wheel.style.willChange = 'auto';
  }, 4600);
}

function claimReward() {
  alert(`–í–∏–ø–ª–∞—Ç—É ${document.querySelector('.amount').textContent} –æ–±—Ä–æ–±–ª–µ–Ω–æ ‚úÖ`);
  // –¢—É—Ç –º–æ–∂–Ω–∞ —Å–∫–∏–Ω—É—Ç–∏ –∫–æ–ª–µ—Å–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–ø—ñ–Ω—É
  location.reload();  // –∞–±–æ hasSpun = false;
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Telegram
if (window.Telegram?.WebApp) {
  Telegram.WebApp.ready();
  Telegram.WebApp.expand();
}
</script>
</body>
</html>
