<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gold Fortune Roulette</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  background: #0a1f0a; /* —Ç–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∏–π —Å—Ç—ñ–ª —è–∫ —É –∫–∞–∑–∏–Ω–æ */
  font-family: 'Inter', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  color: #fff;
  overflow: hidden;
}
.app {
  width: 100%;
  max-width: 380px;
  padding: 20px;
  text-align: center;
}

/* –û–±–≥–æ—Ä—Ç–∫–∞ –∫–æ–ª–µ—Å–∞ */
.wheel-wrapper {
  position: relative;
  width: 300px;
  height: 300px;
  margin: 0 auto 40px;
}

/* –ó–æ–≤–Ω—ñ—à–Ω—è –¥–µ—Ä–µ–≤'—è–Ω–∞/–∑–æ–ª–æ—Ç–∞ —Ä–∞–º–∫–∞ */
.wheel-frame {
  position: absolute;
  inset: -12px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #d4a017, #b8860b 40%, #8b6914 70%, #5c4609);
  box-shadow: 
    0 0 30px rgba(212, 160, 23, 0.6),
    inset 0 0 20px rgba(0,0,0,0.7);
  z-index: 1;
}

/* –°–∞–º–µ –∫–æ–ª–µ—Å–æ (—Å–µ–∫—Ç–æ—Ä–∏ + –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —á–∞—Å—Ç–∏–Ω–∞) */
.wheel {
  position: absolute;
  inset: 12px;
  border-radius: 50%;
  background: 
    /* –î–µ—Ä–µ–≤'—è–Ω–∏–π —Ü–µ–Ω—Ç—Ä */
    radial-gradient(circle at 50% 50%, #c19a6b 0%, #a67c52 40%, #8b5a2b 100%),
    /* –°–µ–∫—Ç–æ—Ä–∏ —Ä—É–ª–µ—Ç–∫–∏ ‚Äî —á–µ—Ä–≤–æ–Ω–∏–π/—á–æ—Ä–Ω–∏–π/–∑–µ–ª–µ–Ω–∏–π 0 */
    conic-gradient(
      from 0deg,
      #228B22 0deg 9.7297deg,     /* –∑–µ–ª–µ–Ω–∏–π 0 ~1/37 */
      #8B0000 9.7297deg 95.135deg, /* —á–µ—Ä–≤–æ–Ω–∏–π */
      #000000 95.135deg 180.54deg, /* —á–æ—Ä–Ω–∏–π */
      #8B0000 180.54deg 275.945deg,
      #000000 275.945deg 360deg
    );
  box-shadow: 
    inset 0 0 40px rgba(0,0,0,0.8),
    inset 0 0 80px rgba(139,0,0,0.15), /* —á–µ—Ä–≤–æ–Ω–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫ */
    inset 12px 12px 30px rgba(0,0,0,0.6);
  will-change: transform;
  backface-visibility: hidden;
  transform-style: preserve-3d;
  transition: transform 5s cubic-bezier(0.16, 0.89, 0.32, 1.28);
  transform: rotate(0deg);
  z-index: 2;
}

/* –ó–æ–ª–æ—Ç–∏–π –±–ª—ñ–∫ / –≤—ñ–¥–±–ª–∏—Å–∫ –Ω–∞ —Ü–µ–Ω—Ç—Ä—ñ */
.wheel::before {
  content: "";
  position: absolute;
  inset: 20%;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,215,0,0.7), transparent 60%);
  pointer-events: none;
  z-index: 3;
}

/* –°—Ç—Ä—ñ–ª–∫–∞ (—Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ –∑–≤–µ—Ä—Ö—É, —è–∫ —É —Ä—É–ª–µ—Ç—Ü—ñ) */
.pointer {
  position: absolute;
  top: -30px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 18px solid transparent;
  border-right: 18px solid transparent;
  border-bottom: 40px solid #d4af37; /* –∑–æ–ª–æ—Ç–∏–π */
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.6));
  z-index: 10;
}

/* –†–µ–∑—É–ª—å—Ç–∞—Ç */
.result {
  min-height: 120px;
  margin-bottom: 30px;
}
.result h2 {
  font-size: 22px;
  margin-bottom: 8px;
  color: #ffd700;
}
.amount {
  font-size: 42px;
  font-weight: 700;
  color: #32cd32;
  text-shadow: 0 0 10px #32cd32;
}

/* –ö–Ω–æ–ø–∫–∏ */
button {
  width: 100%;
  padding: 16px;
  border-radius: 20px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s;
  border: none;
  margin-bottom: 16px;
}
.btn-spin {
  background: linear-gradient(135deg, #ffd700, #d4a017);
  color: #1a1a1a;
}
.btn-spin:hover { transform: scale(1.04); }
.btn-claim {
  background: linear-gradient(135deg, #32cd32, #228b22);
  color: white;
  display: none;
}
.btn-claim:hover { transform: scale(1.04); }
</style>
</head>
<body>
<div class="app">
  <div class="wheel-wrapper">
    <div class="wheel-frame"></div>
    <div class="wheel" id="wheel"></div>
    <div class="pointer"></div>
  </div>

  <div class="result" id="result">
    <h2>–ö—Ä—É—Ç—ñ—Ç—å —Ä—É–ª–µ—Ç–∫—É üé∞</h2>
    <p>–í–∏–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞—á—É</p>
  </div>

  <button class="btn-claim" id="claimBtn" onclick="claimReward()">
    –ó–∞–±—Ä–∞—Ç–∏ –≤–∏–≥—Ä–∞—à
  </button>
  <button class="btn-spin" id="spinBtn" onclick="spinWheel()">
    –ö—Ä—É—Ç–∏—Ç–∏
  </button>
</div>

<script>
let rotation = 0;
let hasSpun = false;

function spinWheel() {
  if (hasSpun) return;

  const wheel = document.getElementById('wheel');
  const result = document.getElementById('result');
  const claimBtn = document.getElementById('claimBtn');
  const spinBtn = document.getElementById('spinBtn');

  const extra = Math.random() * 360;
  const spins = 5 + Math.floor(Math.random() * 3); // 5‚Äì7 –ø–æ–≤–Ω–∏—Ö –æ–±–µ—Ä—Ç—ñ–≤
  const target = rotation + (spins * 360) + extra;

  wheel.style.transition = 'none';
  wheel.style.transform = `rotate(${rotation}deg)`;
  wheel.offsetHeight; // force reflow

  wheel.style.transition = 'transform 5s cubic-bezier(0.16, 0.89, 0.32, 1.28)';
  wheel.style.transform = `rotate(${target}deg)`;

  rotation = target;
  hasSpun = true;
  spinBtn.disabled = true;
  spinBtn.textContent = '–ö—Ä—É—Ç–∏—Ç—å—Å—è...';

  setTimeout(() => {
    const finalDeg = target % 360;
    let prize = '0 –≥—Ä–Ω';
    // –ü—Ä–∏–∫–ª–∞–¥: –∑–µ–ª–µ–Ω–∏–π 0 ‚Äî –¥–∂–µ–∫–ø–æ—Ç, —á–µ—Ä–≤–æ–Ω–∏–π ‚Äî –≤–∏–≥—Ä–∞—à, —á–æ—Ä–Ω–∏–π ‚Äî –ø—Ä–æ–≥—Ä–∞—à
    if (finalDeg < 10 || finalDeg > 350) prize = '5000 –≥—Ä–Ω √ó10!';
    else if (finalDeg % 60 < 30) prize = '2000 –≥—Ä–Ω';
    else prize = '–°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑';

    result.innerHTML = `
      <h2>–í—ñ—Ç–∞—î–º–æ! üéâ</h2>
      <div class="amount">${prize}</div>
    `;
    claimBtn.style.display = 'block';
    spinBtn.disabled = false;
    spinBtn.textContent = '–ö—Ä—É—Ç–∏—Ç–∏ —â–µ';
  }, 5200);
}

function claimReward() {
  alert("–í–∏–ø–ª–∞—Ç–∞ –æ–±—Ä–æ–±–ª–µ–Ω–∞! –ì—Ä–æ—à—ñ –Ω–∞ —Ä–∞—Ö—É–Ω–∫—É ‚úÖ");
  // –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ reset –∞–±–æ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –≥—Ä—É
}

if (window.Telegram?.WebApp) {
  Telegram.WebApp.ready();
  Telegram.WebApp.expand();
}
</script>
</body>
</html>
