<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune Wheel</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        
        body {
            background: #1a1a1a; /* –¢–µ–º–Ω–∏–π —Ñ–æ–Ω –ø—ñ–¥ —Ç–µ–º—É Telegram */
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: white;
            overflow: hidden;
        }

        .app {
            width: 100%;
            max-width: 350px;
            text-align: center;
            padding: 20px;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –æ–±—Ä—ñ–∑–∞—î –∫—É—Ç–∏ */
        .wheel-wrapper {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 30px;
            border-radius: 50%;
            overflow: hidden; /* –¶–µ –ø—Ä–∏–±–∏—Ä–∞—î –∫—É—Ç–∏ */
            border: 5px solid #ffd700; /* –ó–æ–ª–æ—Ç–∞ —Ä–∞–º–∫–∞ –Ω–∞–≤–∫–æ–ª–æ –∫–æ–ª–µ—Å–∞ */
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        #wheel {
            width: 100%;
            height: 100%;
            display: block;
            transition: transform 4.5s cubic-bezier(0.15, 0, 0.15, 1);
            will-change: transform;
        }

        .pointer {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid #ff0000; /* –ß–µ—Ä–≤–æ–Ω–∏–π –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ */
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5));
        }

        .result { height: 80px; margin-bottom: 20px; }
        
        h2 { color: #ffd700; margin-bottom: 5px; }

        button {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            background: linear-gradient(#ffd700, #d4a017);
            color: #1a1a1a;
            transition: 0.2s;
        }

        button:disabled { opacity: 0.5; }
    </style>
</head>
<body>

<div class="app">
    <div class="wheel-wrapper">
        <div class="pointer"></div>
        <img src="wheel.png" id="wheel" alt="–ö–æ–ª–µ—Å–æ">
    </div>

    <div class="result" id="result">
        <h2 id="statusText">–ö—Ä—É—Ç–∏ —Ç–∞ –≤–∏–≥—Ä–∞–≤–∞–π!</h2>
    </div>

    <button id="spinBtn" onclick="spinWheel()">–ö–†–£–¢–ò–¢–ò</button>
</div>

<script>
    let currentRotation = 0;
    let isSpinning = false;

    function spinWheel() {
        if (isSpinning) return;
        isSpinning = true;

        const wheel = document.getElementById('wheel');
        const btn = document.getElementById('spinBtn');
        const status = document.getElementById('statusText');

        btn.disabled = true;
        status.textContent = "–£–¥–∞—á–∞ –±–ª–∏–∑—å–∫–æ...";

        // –†–æ–±–∏–º–æ –º—ñ–Ω—ñ–º—É–º 5 –ø–æ–≤–Ω–∏—Ö –æ–±–µ—Ä—Ç—ñ–≤ + –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –∫—É—Ç
        const randomDegree = Math.floor(Math.random() * 360);
        const totalRotation = currentRotation + 1800 + randomDegree; 
        
        wheel.style.transform = `rotate(${totalRotation}deg)`;
        currentRotation = totalRotation;

        setTimeout(() => {
            isSpinning = false;
            btn.disabled = false;
            status.textContent = "–°–ø—Ä–æ–±—É–π —â–µ!";
            
            // –í–∏–∑–Ω–∞—á–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (Win/Lose)
            // –û—Å–∫—ñ–ª—å–∫–∏ —Å–µ–∫—Ç–æ—Ä–∏ —á–µ—Ä–µ–¥—É—é—Ç—å—Å—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–∞–ª–∏—à–æ–∫ –≤—ñ–¥ –¥—ñ–ª–µ–Ω–Ω—è
            const finalAngle = totalRotation % 360;
            // –õ–æ–≥—ñ–∫–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫ —Å—Ç–æ—è—Ç—å —Å–µ–∫—Ç–æ—Ä–∏ –Ω–∞ –≤–∞—à–æ–º—É —Ñ–æ—Ç–æ
            if (finalAngle % 60 > 30) { 
                status.innerHTML = "–í–ò–ì–†–ê–®! üéâ";
            } else {
                status.innerHTML = "–ú–ê–ô–ñ–ï! üçÄ";
            }
        }, 4500);
    }

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Telegram WebApp
    if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
    }
</script>

</body>
</html>
